---
title: "2024-04-28"
layout: single
author_profile: true
---

ssh config alias 설정

## 공부한 거
### ssh 

- ssh config alias 설정

```shell
# ~/.ssh/config
Include *.conf

# aws.conf
Host aws-home
  HostName {aws-eip}
  IdentityFile {aws-key 위치}
  Port 22
  User ec2-user

```

## 코딩한 거
### custom template tag Test Code 만들기
- ref: https://stackoverflow.com/questions/1687854/how-to-test-custom-template-tags-in-django
- 상황: custom template tag를 만들었는데 테스트 코드를 어떻게 짜야하나 고민했다.
- 위의 `ref`를 참고해서 아래와 같이 테스트 코드를 작성했다.
```python

class PostTests(TestCase):
    @classmethod
    def setUpTestData(cls):
        cls.posts = PostFactory.create_batch(10)
        for idx, post in enumerate(cls.posts):
            CommentFactory.create_batch(idx, post=post)

    def test_rendered_total_posts(self):
        result = Template("{% load blog_tags %}" "{% total_posts %}").render(
            Context()
        )
        self.assertEqual(result, "10")

    def test_rendered_markdown_filter(self):
        markdown_text = (
            "# Heading\n\nThis is a paragraph "
            "with *italic* and **bold** text."
        )
        expected_html = (
            "<h1>Heading</h1>\n<p>This is a paragraph "
            "with <em>italic</em> "
            "and <strong>bold</strong> text.</p>"
        )

        template_str = "{% load blog_tags %}{{ markdown_text|markdown }}"
        template = Template(template_str)
        context = Context({"markdown_text": markdown_text})
        rendered_template = template.render(context)

        self.assertIsInstance(rendered_template, SafeString)
        self.assertEqual(rendered_template, expected_html)

    def test_get_markdown_filter(self):
        markdown_text = (
            "# Heading\n\nThis is a paragraph "
            "with *italic* and **bold** text."
        )
        expected_html = (
            "<h1>Heading</h1>\n<p>This is a paragraph "
            "with <em>italic</em> "
            "and <strong>bold</strong> text.</p>"
        )

        result = markdown_format(markdown_text)
        self.assertIsInstance(result, SafeString)
        self.assertEqual(result, expected_html)

```